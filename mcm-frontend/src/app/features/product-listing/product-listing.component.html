<div class="wrap">
  <aside class="filters">
    <div class="filters-head">
      <div class="title">Szűrők</div>
      <button type="button" (click)="resetFilters()">Reset</button>
    </div>

    <div class="group">
      <label>Keresés</label>
      <div class="value small">{{ q || '—' }}</div>
    </div>

    <div class="group">
      <label>Max ár: <span class="accent">{{ maxPrice | number }} Ft</span></label>
      <input type="range" min="0" max="200000" step="500" [(ngModel)]="maxPrice" (input)="applyFilters()" />
    </div>

    <div class="group">
      <label>Kategória</label>
      <select [(ngModel)]="category" (change)="applyFilters()">
        <option value="">Összes</option>
        <option value="game-key">Játékkulcs</option>
        <option value="hardware">Gépalkatrész</option>
        <option value="gift-card">Ajándékkártya</option>
      </select>
    </div>

    <div class="group">
      <label>Platform</label>
      <select [(ngModel)]="platform" (change)="applyFilters()">
        <option value="">Összes</option>
        <option *ngFor="let p of platforms" [value]="p">{{ p }}</option>
      </select>
    </div>

    <div class="group">
      <label>Rendezés</label>
      <select [(ngModel)]="sort" (change)="applyFilters()">
        <option value="relevance">Relevancia</option>
        <option value="price-asc">Ár növekvő</option>
        <option value="price-desc">Ár csökkenő</option>
        <option value="name-asc">Név A–Z</option>
      </select>
    </div>
  </aside>

  <main class="content">
    <div class="content-head">
      <div>
        <div class="h1">Találatok</div>
        <div class="sub">Keresés: <span class="accent">{{ q || '—' }}</span> • {{ filtered.length }} db</div>
      </div>
    </div>

    <div *ngIf="filtered.length === 0" class="empty">
      Nincs találat. Próbáld más kulcsszóval vagy lazíts a szűrőkön.
    </div>

    <div class="grid" *ngIf="filtered.length > 0">
      <a class="card" *ngFor="let p of filtered" [routerLink]="['/product', p.id]">
        <img [src]="p.imageUrl" [alt]="p.name" />
        <div class="body">
          <div class="name">{{ p.name }}</div>
          <div class="meta">
            <span class="pill">{{ p.category }}</span>
            <span class="pill" *ngIf="p.platform">{{ p.platform }}</span>
          </div>
          <div class="bottom">
            <div class="price">{{ p.price | number }} Ft</div>
            <span class="buy">Megnézem</span>
          </div>
        </div>
      </a>
    </div>
  </main>
</div>
